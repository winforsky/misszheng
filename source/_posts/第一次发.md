---
title: 第一次发
date: 2019-01-08 16:05:33
tags:
---
本文详细描述了如何利用一个github的项目实现：
* 在develop分支上编写静态blog, 
* 在master分支上发布blog的方法。
以上是摘要部分
<!--more-->
## 安装
安装hexo-cli
```
npm install -g hexo-cli
```

## 创建本地blog
建立hexo的blog，同时会新建目录
```
hexo init misszheng
```

进入blog目录
```
cd misszheng
```

安装依赖
```
npm install
```

查看hexo帮助文档
```
hexo --help
```

生成hexo静态文件
```
hexo g
```

本地运行hexo的blog
```
hexo s
```

运行成功后，浏览器打开`http://localhost:4000/`即可看到blog


## 版本控制
初始化git的版本管理
```
git init
```

加入git的管理
```
git add .
```

提交git的管理
```
git commit -m"初始化文档"
```

本地git新增远程的github
```
git remote add origin git@github.com:winforsky/misszheng.git
```

本地git切换到develop分支，后续我们都在develop分支操作
```
git checkout -b develop
```

新建一个文档
```
hexo new "第一次发"
```

编辑新建好的文档
```
vi source/_posts/第一次发.md
```

加入git的管理
```
  git add .
  git commit -m"第一次发"
```

推送到远端的github
```
git push origin head:develop
```

## 发布到github
安装需要的git发布组件
```
npm install hexo-deployer-git --save
```

编辑配置文件
```
vi _config.yml
```

配置内容如下
```
# Site 根据需要进行修改
title: Hexo
subtitle:
description:
keywords:
author: John Doe
language:
timezone:

# URL
## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'
url: https://winforsky.github.io/misszheng //注意此处，不然找不到样式、资源等
root: /misszheng/  //注意此处

# Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
  type: git
  repo: git@github.com:winforsky/misszheng.git
  branch: master
```

清理本地生成的文件
```
hexo clean
```

发布到github时，会自动清理掉远端git上master分支的内容
```
hexo deploy
```

**发布完成之后建议清理掉本地的数据再同步到远端**

清理本地生成的文件
```
hexo clean
```

加入git的管理
```
git status
git add .
git commit -m'更新配置信息'
```

同步到远端
```
git push origin head:develop
```

**通过上面的操作，你已经实现了在develop分支上写文字并进行git管理，在master分支上发布**


## 发布带图片的blog
安装需要的插件
```
npm install hexo-asset-image --save 
```

修改_config.yml文件
```
post_asset_folder: true
```

插入logo图片
```
![logo](logo.jpg) 
```
或 注意此处的xxxx是与`hexo new xxxx`时的一致
```
![你想输入的替代文字](xxxx/图片名.jpg)
```

## 生成sitemap & rss
安装需要的插件
```
npm install hexo-generator-feed --save 
npm install hexo-generator-sitemap --save 
```
之后重启博客，访问/atom.xml和/sitemap.xml，会发现已经生成了。

## 其他
你想说点什么呢？
